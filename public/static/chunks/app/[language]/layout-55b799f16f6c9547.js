(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79],{1877:function(e,t,n){Promise.resolve().then(n.bind(n,2627)),Promise.resolve().then(n.t.bind(n,4314,23))},6463:function(e,t,n){"use strict";var u=n(1169);n.o(u,"usePathname")&&n.d(t,{usePathname:function(){return u.usePathname}}),n.o(u,"useRouter")&&n.d(t,{useRouter:function(){return u.useRouter}}),n.o(u,"useSearchParams")&&n.d(t,{useSearchParams:function(){return u.useSearchParams}})},2627:function(e,t,n){"use strict";n.d(t,{default:function(){return h},a:function(){return i}});var u=n(7437),r=n(2265),s=n(6463);async function a(e){try{return(await fetch("/api/auth/me?userId=".concat(e),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).ok}catch(e){throw console.error("Error fetching user authentication:",e.message),e}}var o=e=>{let{fallback:t}=e,{isLogged:n=!1}=i(),[u,o]=(0,r.useState)(n),[c,h]=(0,r.useState)(!1),[f,l]=(0,r.useState)(t),d=(0,s.usePathname)(),m=(0,s.useRouter)(),P=d.split("/"),p=d.includes("user/");return(0,r.useEffect)(()=>{p||l(t)},[]),(0,r.useEffect)(()=>{!u&&c&&m.push("/auth/login")},[u,c]),(0,r.useEffect)(()=>{p&&a(P[P.length-1]).then(e=>{o(e)}).catch(e=>{console.error(e),o(!1)}).finally(()=>{h(!0)})},[]),f};let c=(0,r.createContext)({isLogged:!1}),i=()=>(0,r.useContext)(c);var h=e=>{let{children:t,isLogged:n}=e;return(0,u.jsx)(c.Provider,{value:{isLogged:n},children:(0,u.jsx)(o,{fallback:t})})}},4314:function(){}},function(e){e.O(0,[369,971,23,744],function(){return e(e.s=1877)}),_N_E=e.O()}]);