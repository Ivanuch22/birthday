(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[325],{639:function(e,t,r){Promise.resolve().then(r.t.bind(r,3899,23)),Promise.resolve().then(r.t.bind(r,5328,23)),Promise.resolve().then(r.bind(r,8657))},6463:function(e,t,r){"use strict";var n=r(1169);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},9597:function(e,t,r){"use strict";r.d(t,{z:function(){return o}});var n=r(7437);r(2265);var u=r(6357),s=r.n(u);let o=e=>{let{children:t,onClick:r,className:u,disabled:o}=e;return(0,n.jsx)("button",{...e,onClick:r,className:s().btn,children:t})}},2289:function(e,t,r){"use strict";r.d(t,{I:function(){return _}});var n=r(7437),u=r(2265),s=r(6134),o=r.n(s),a=r(6800),i=r.n(a);let _=(0,u.forwardRef)((e,t)=>{let{label:r,isError:s=!1,placeholder:a,onBlur:_,onChange:c,onFocus:l,onInput:x,list:d,resetField:p,resetMask:f,handleSearch:h,handleCalendar:m,value:g,type:T,maxLength:b,className:v,white:y,required:I,id:j,defaultValue:w,wrappDataTestid:P,size:C="m",textAlign:N,...S}=e,[R,A]=(0,u.useState)(g||w),E=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,u.useCallback)(e=>{t.forEach(t=>{t&&("function"==typeof t?t(e):t.current=e)})},[t])}(t,(0,u.useRef)(null)),L=i()(o().input,{[v]:v});return(0,n.jsxs)("div",{className:o().inputBlock,children:[(0,n.jsx)("label",{htmlFor:j,children:r}),(0,n.jsx)("input",{className:L,defaultValue:w,id:j,list:d,maxLength:b,onChange:e=>{A(e.currentTarget.value),c&&c(e)},placeholder:a,ref:E,required:I,type:T,value:g,...S})]})})},2890:function(e,t,r){"use strict";r.d(t,{I:function(){return n.I}});var n=r(2289)},30:function(e,t,r){"use strict";var n=r(7437),u=r(6363),s=r.n(u),o=r(3580);t.Z=e=>{let{children:t}=e;return(0,n.jsxs)("div",{className:s().formWrapper,children:[t,(0,n.jsx)(o.Ix,{})]})}},8657:function(e,t,r){"use strict";r.d(t,{default:function(){return d}});var n=r(7437),u=r(2265),s=r(3580);r(4193);var o=r(2890),a=r(9597),i=r(30),_=r(7469),c=r(231),l=r.n(c),x=r(6463),d=e=>{let{buttonTitle:t,forgotPasswordTitle:r,registerButtonTitle:c,placeholders:d={}}=e,p=(0,x.useRouter)(),[f,h]=(0,u.useState)({email:"",password:""}),[m,{data:g,isLoading:T,isError:b,isSuccess:v}]=(0,_.YA)(),y=async e=>{e.preventDefault();try{await m(f)}catch(e){console.error("Login error:",e)}},I=e=>{let{name:t,value:r}=e.target;h(e=>({...e,[t]:r}))};return(0,u.useEffect)(()=>{T?s.Am.info("Logging in...",{autoClose:!1}):v?(s.Am.success("Login successful!"),p.push("/user/".concat(g.userId))):b&&s.Am.error("Error: Incorrect email or password",{autoClose:!1})},[T,v,b]),(0,n.jsxs)(i.Z,{children:[(0,n.jsxs)("form",{onSubmit:y,children:[(0,n.jsx)(o.I,{type:"email",name:"email",placeholder:"Email",value:f.email,onChange:I}),(0,n.jsx)(o.I,{type:"password",name:"password",placeholder:d.passwordPlaceholder,value:f.password,onChange:I}),(0,n.jsx)(a.z,{type:"submit",disabled:T,children:T?"Logging in...":t}),(0,n.jsx)(l(),{href:"/auth/sign-up",children:(0,n.jsx)(a.z,{children:c})})]}),(0,n.jsx)(l(),{href:"/auth/forgot-password",children:r})]})}},7469:function(e,t,r){"use strict";r.d(t,{Iw:function(){return _},YA:function(){return a},iJ:function(){return s},l4:function(){return o}});var n=r(8507),u=r(1050);let s=(0,n.LC)({baseQuery:u.r,endpoints:e=>({register:e.mutation({query:e=>({url:"/api/auth/sign-in",method:"POST",body:e})}),login:e.mutation({query:e=>({url:"/api/auth/login",method:"POST",body:e})}),me:e.query({query:e=>({url:"/api/auth/me?userId=".concat(e),credentials:"include"})}),remind:e.mutation({query:e=>({url:"/api/remind",method:"POST",body:{email:e}})})})}),{useRegisterMutation:o,useLoginMutation:a,useLazyMeQuery:i,useRemindMutation:_}=s},1050:function(e,t,r){"use strict";r.d(t,{r:function(){return s}});var n=r(6074),u=r(357);let s=(0,n.ni)({baseUrl:u.env.NEXT_API_BASE_URL,credentials:"same-origin",prepareHeaders:e=>(e.set("Content-Type","application/json"),e)})},4193:function(){},6357:function(e){e.exports={btn:"Button_btn__T_tor"}},6134:function(e){e.exports={inputBlock:"Input_inputBlock__A9N6Y",input:"Input_input__hHazC",select:"Input_select__u67ma"}},5328:function(e){e.exports={text_h1:"Text_text_h1__OdNbi",text_h2:"Text_text_h2__Nw8YB",text_h3:"Text_text_h3__4S0Tf",text_h4:"Text_text_h4__HvIiJ",text_h5:"Text_text_h5__K87Vt",text_bold:"Text_text_bold__rf_8I",text_medium:"Text_text_medium__nRIOp",text_regular:"Text_text_regular__uDYK2",text_xs:"Text_text_xs__LY21J",text_s:"Text_text_s__4zmlr",text_m:"Text_text_m__wXbdE",text_l:"Text_text_l__tIVVd",text_xl:"Text_text_xl__gGNCf",text_primary:"Text_text_primary__Rg4dV",text_secondary:"Text_text_secondary__IWZLR",text_alert:"Text_text_alert__YbKal",text_success:"Text_text_success__gIiq0",text_action:"Text_text_action__hA7LD"}},3899:function(e){e.exports={signup:"NewUserFormWrapper_signup__4X4R_"}},6363:function(e){e.exports={formWrapper:"StyledForm_formWrapper__Zn4r_"}}},function(e){e.O(0,[428,166,402,507,462,231,971,23,744],function(){return e(e.s=639)}),_N_E=e.O()}]);